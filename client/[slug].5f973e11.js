import{S as t,i as s,s as e,a as n,e as r,t as o,q as i,f as a,g as c,c as u,b as f,d as l,h as m,j as h,k as d,l as p,n as v}from"./client.6c989cfd.js";import w from"stream";import x from"util";
/*!
 * reading-time
 * Copyright (c) Nicolas Gryman <ngryman@gmail.com>
 * MIT Licensed
 */
function g(t,s){return s.some(([s,e])=>s<=t&&t<=e)}function $(t){if("string"!=typeof t)return!1;return g(t.charCodeAt(0),[[12352,12447],[19968,40959],[44032,55203],[131072,191456]])}function M(t){return" \n\r\t".includes(t)}function y(t){if("string"!=typeof t)return!1;return g(t.charCodeAt(0),[[33,47],[58,64],[91,96],[123,126],[12288,12351],[65280,65519]])}var j=function(t,s={}){let e=0,n=0,r=t.length-1;const o=s.wordsPerMinute||200,i=s.wordBound||M;for(;i(t[n]);)n++;for(;i(t[r]);)r--;const a=t+"\n";for(let t=n;t<=r;t++)if(($(a[t])||!i(a[t])&&(i(a[t+1])||$(a[t+1])))&&e++,$(a[t]))for(;t<=r&&(y(a[t+1])||i(a[t+1]));)t++;const c=e/o,u=Math.round(60*c*1e3);return{text:Math.ceil(c.toFixed(2))+" min read",minutes:c,time:u,words:e}};const D=w.Transform;function H(t){if(!(this instanceof H))return new H(t);D.call(this,{objectMode:!0}),this.options=t||{},this.stats={minutes:0,time:0,words:0}}x.inherits(H,D),H.prototype._transform=function(t,s,e){const n=j(t.toString(s),this.options);this.stats.minutes+=n.minutes,this.stats.time+=n.time,this.stats.words+=n.words,e()},H.prototype._flush=function(t){this.stats.text=Math.ceil(this.stats.minutes.toFixed(2))+" min read",this.push(this.stats),t()};var S=H,E=function(t,s){return t(s={exports:{}},s.exports),s.exports}((function(t){t.exports.default=t.exports=j,t.exports.readingTimeStream=S}));E.readingTimeStream;function T(t){let s,e,w,x,g,$,M,y,j,D,H,S,E=t[0].frontmatter.title+"",T=new Date(t[0].frontmatter.date).toDateString()+"",b=t[0].contentHtml+"";return document.title=s=t[0].frontmatter.title,{c(){e=n(),w=r("div"),x=r("h1"),g=o(E),$=n(),M=r("p"),y=o(T),j=o(" ﹒ "),D=o(t[1]),H=n(),S=r("div"),this.h()},l(s){i('[data-svelte="svelte-10zmjfn"]',document.head).forEach(a),e=c(s),w=u(s,"DIV",{class:!0});var n=f(w);x=u(n,"H1",{class:!0});var r=f(x);g=l(r,E),r.forEach(a),$=c(n),M=u(n,"P",{class:!0});var o=f(M);y=l(o,T),j=l(o," ﹒ "),D=l(o,t[1]),o.forEach(a),H=c(n),S=u(n,"DIV",{class:!0}),f(S).forEach(a),n.forEach(a),this.h()},h(){m(x,"class","svelte-vw9fu7"),m(M,"class","post-meta svelte-vw9fu7"),m(S,"class","content svelte-vw9fu7"),m(w,"class","container svelte-vw9fu7")},m(t,s){h(t,e,s),h(t,w,s),d(w,x),d(x,g),d(w,$),d(w,M),d(M,y),d(M,j),d(M,D),d(w,H),d(w,S),S.innerHTML=b},p(t,[e]){1&e&&s!==(s=t[0].frontmatter.title)&&(document.title=s),1&e&&E!==(E=t[0].frontmatter.title+"")&&p(g,E),1&e&&T!==(T=new Date(t[0].frontmatter.date).toDateString()+"")&&p(y,T),2&e&&p(D,t[1]),1&e&&b!==(b=t[0].contentHtml+"")&&(S.innerHTML=b)},i:v,o:v,d(t){t&&a(e),t&&a(w)}}}async function b({params:t,query:s}){const e=await this.fetch(`blog/${t.slug}.json`),n=await e.json();if(200===e.status)return{post:n};this.error(e.status,n.message)}function q(t,s,e){let n,r,{post:o}=s;return t.$$set=t=>{"post"in t&&e(0,o=t.post)},t.$$.update=()=>{1&t.$$.dirty&&e(2,n=E(o.contentHtml)),4&t.$$.dirty&&e(1,r=`${Math.ceil(n.minutes)} minute${Math.ceil(n.minutes)>1?"(s)":""} read`)},[o,r,n]}export default class extends t{constructor(t){super(),s(this,t,q,T,e,{post:0})}}export{b as preload};
